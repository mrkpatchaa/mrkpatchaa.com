{"componentChunkName":"component---src-templates-blog-post-js","path":"/my-first-electron-app-blinker/","result":{"data":{"markdownRemark":{"id":"41fb1007-7906-5592-95c8-deb29774a5ef","html":"<p>A week ago, I discovered a very useful website and I thought I should make it an application.\nThis is the website : <a href=\"http://www.blynker.com/\" target=\"blank\" rel=\"noopener\">http://www.blynker.com/</a>.<br/>\nThe principle is simple : it reminds you to take your eyes away from your computer every 20 minutes. So here is <strong>Blinker</strong>.</p>\n<p>I do a lot of stuff on my computer and I don't always take a break to rest. We can see it like a <a href=\"https://cirillocompany.de/pages/pomodoro-technique\" target=\"blank\" rel=\"noopener\">pomodoro</a>, but not just when you want to concentrate on something.</p>\n<h3><strong>Planning the application</strong></h3>\n<p><strong>The idea is simple</strong> : Every x (20) minutes you notify the user that he should take a break. 20 seconds later, he can go back to work.</p>\n<p><strong>The technology</strong> : I do a lot of Javascript so I decided to go with a tool that could help me create my <em>native</em> application in Javascript. With no doubt I decided to go with <a href=\"https://electron.atom.io/\" target=\"blank\" rel=\"noopener\">Electron</a>. Many applications, including Slack, Atom, VS Code, are built on top of Electron. And it has the advantage to help you build cross platform applications.</p>\n<h3><strong>Creating the application</strong></h3>\n<p>Electron provides a quick start to help you understand the concept.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token comment\"># Clone the Quick Start repository</span>\n$ <span class=\"token function\">git</span> clone https://github.com/electron/electron-quick-start\n\n<span class=\"token comment\"># Go into the repository</span>\n$ <span class=\"token builtin class-name\">cd</span> electron-quick-start\n\n<span class=\"token comment\"># Install the dependencies and run</span>\n$ <span class=\"token function\">npm</span> <span class=\"token function\">install</span> <span class=\"token operator\">&amp;&amp;</span> <span class=\"token function\">npm</span> start</code></pre></div>\n<p>Blinker is a \"window less\" application (as it just shows a tray icon) so I deleted the <code>index.html</code> and <code>renderer.js</code> files.</p>\n<p>Electron provides a <a href=\"https://electron.atom.io/docs/api/tray/\" target=\"blank\" rel=\"noopener\">Tray</a> item that helps you add icons and context menus to the systemâ€™s notification area.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">const</span> electron <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'electron'</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span> app<span class=\"token punctuation\">,</span> Tray<span class=\"token punctuation\">,</span> Menu<span class=\"token punctuation\">,</span> BrowserWindow <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'electron'</span><span class=\"token punctuation\">)</span></code></pre></div>\n<p>Here is the list of dependencies :</p>\n<p><a href=\"https://github.com/mikaelbr/node-notifier\" target=\"blank\" rel=\"noopener\"><strong>node-notifier</strong></a> : to display system notifications. I first used the HTML5 native Notification API, but it didn't work as our application doesn't run in a window.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\">notifier<span class=\"token punctuation\">.</span><span class=\"token function\">notify</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n  title<span class=\"token operator\">:</span> <span class=\"token string\">'Startup status changed'</span><span class=\"token punctuation\">,</span>\n  message<span class=\"token operator\">:</span> launchOnStartup\n    <span class=\"token operator\">?</span> <span class=\"token string\">'You will have to launch the application every time you log in'</span>\n    <span class=\"token operator\">:</span> <span class=\"token string\">'Great! Application will launch on system startup'</span><span class=\"token punctuation\">,</span>\n  icon<span class=\"token operator\">:</span> path<span class=\"token punctuation\">.</span><span class=\"token function\">join</span><span class=\"token punctuation\">(</span>__dirname<span class=\"token punctuation\">,</span> <span class=\"token string\">'icons/eye.png'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n  contentImage<span class=\"token operator\">:</span> <span class=\"token string\">''</span><span class=\"token punctuation\">,</span>\n  sound<span class=\"token operator\">:</span> playSound<span class=\"token punctuation\">,</span> <span class=\"token comment\">// true of false</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span></code></pre></div>\n<p><a href=\"https://github.com/Teamwork/node-auto-launch/\" target=\"blank\" rel=\"noopener\"><strong>auto-launch</strong></a> : to launch application on startup ;)</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">const</span> appAutoLauncher <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">AutoLaunch</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n  name<span class=\"token operator\">:</span> <span class=\"token string\">'Blinker'</span><span class=\"token punctuation\">,</span>\n  isHidden<span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\n  mac<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    useLaunchAgent<span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span></code></pre></div>\n<p><a href=\"https://github.com/sindresorhus/electron-store\" target=\"blank\" rel=\"noopener\"><strong>electron-store</strong></a> : to save application specific configuration (like sound, autostart)</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">const</span> store <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Store</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n  defaults<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    config<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n      launchOnStartup<span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\n      playSound<span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">const</span> config <span class=\"token operator\">=</span> store<span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token string\">'config'</span><span class=\"token punctuation\">)</span></code></pre></div>\n<p>I have released the <a href=\"https://github.com/mrkpatchaa/blinker/releases/tag/v01\" target=\"\" rel=\"noopener\">first version</a> for Linux and MacOS. If you are on windows, you can just checkout the code and build for windows.</p>\n<p>Feel free to checkout the code on <a href=\"https://github.com/mrkpatchaa/blinker/\" target=\"blank\" rel=\"noopener\">github</a>, submit pull requests or open issues if something is not working as expected.</p>\n<p>Cheers.</p>","frontmatter":{"date":"June 17, 2017","title":"My first electron app : Blinker","description":"","tags":["Electron","Application","Javascript","Health"],"image":{"childImageSharp":{"fluid":{"base64":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAA7EAAAOxAGVKw4bAAACLUlEQVQoz4VSWU+TURD9fp4/wDfji4mJIRGMW1xDDChaK11s0xa77wVasBAoSq2BEix8Xb8udIFiMf6Me5yZFmJ88WEyc885c+8sV1setHFpqX4LmVEf67/OkD7vYXXYxcppB5mffaxdDLB6diIx48wzJtxooCRn2FUaExlOJnH29znsu9t4nYph6eA7AuVDxDt1OAtfYNvZRNQow7W3K7iHePNGBtbcBqw7m2o+GUWkristXD/GjNWMW7Mv4Cfhc68bj502PHE7YNnKgvl7H0yYmn+FhXQSTz1O3H75TC6aMb/Dx3yOMfXQboFlO6s01/43XL87hWs3b2CRRHzhI4cVLJhLROAmftq0IFVPm97IY3fmZvH+cxr3qRDXXp4x9cC2CEc+N27ZX/4B90GBZnIqL3L5nmIBbzPLsH/dkpa5UuYoCcFKCa79vLRMVcF3VFThhg5fqag0XsYaDXadLpN4NKBZDmXYPGgePGM08HF8MYlleaeSR0UpWRh5jbcYMqoIN2u0mA6S3SYSJ8bV1hNdY+x7TYnjxKV6LSTpzLic+y3F+pVBW2mhZhWe8hG8VR1JErD318uIkZAvYS7aacBXK8v5U+UYIXrcWToU7yMtmVoiPGhUlRYwKpLElqSXmeBkf6OCcKsGt15CpF2Ht6YLz5fHyFgfbo3xQKOiglSYr6aPW2ZBnNrhmO3vzy6tEJbiEUxiNp7ZJU5eCUZemwRXwv/Zvw+J0ewmZ/UHs6O8R0G6BWIAAAAASUVORK5CYII=","aspectRatio":1.8028169014084507,"src":"/static/8073655d7e1f02bcba9da7b7acbccfae/5716b/blinker.png","srcSet":"/static/8073655d7e1f02bcba9da7b7acbccfae/6ba37/blinker.png 512w,\n/static/8073655d7e1f02bcba9da7b7acbccfae/5716b/blinker.png 810w","sizes":"(max-width: 810px) 100vw, 810px"}}}},"fields":{"slug":"/my-first-electron-app-blinker/"}},"site":{"siteMetadata":{"social":{"disqus":"mrkpatchaa","twitter":"mrkpatchaa"}}}},"pageContext":{"id":"41fb1007-7906-5592-95c8-deb29774a5ef"}}}