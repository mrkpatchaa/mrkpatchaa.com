{"pageProps":{"post":{"title":"My first electron app : Blinker","body":"\r\nA week ago, I discovered a very useful website and I thought I should make it an application.\r\nThis is the website : <a href=\"http://www.blynker.com/\" target=\"blank\" rel=\"noopener\">http://www.blynker.com/</a>.<br/>\r\nThe principle is simple : it reminds you to take your eyes away from your computer every 20 minutes. So here is **Blinker**.\r\n\r\nI do a lot of stuff on my computer and I don't always take a break to rest. We can see it like a <a href=\"https://cirillocompany.de/pages/pomodoro-technique\" target=\"blank\" rel=\"noopener\">pomodoro</a>, but not just when you want to concentrate on something.\r\n\r\n### **Planning the application**\r\n\r\n**The idea is simple** : Every x (20) minutes you notify the user that he should take a break. 20 seconds later, he can go back to work.\r\n\r\n**The technology** : I do a lot of Javascript so I decided to go with a tool that could help me create my _native_ application in Javascript. With no doubt I decided to go with <a href=\"https://electron.atom.io/\" target=\"blank\" rel=\"noopener\">Electron</a>. Many applications, including Slack, Atom, VS Code, are built on top of Electron. And it has the advantage to help you build cross platform applications.\r\n\r\n### **Creating the application**\r\n\r\nElectron provides a quick start to help you understand the concept.\r\n\r\n```bash\r\n# Clone the Quick Start repository\r\n$ git clone https://github.com/electron/electron-quick-start\r\n\r\n# Go into the repository\r\n$ cd electron-quick-start\r\n\r\n# Install the dependencies and run\r\n$ npm install && npm start\r\n```\r\n\r\nBlinker is a \"window less\" application (as it just shows a tray icon) so I deleted the `index.html` and `renderer.js` files.\r\n\r\nElectron provides a <a href=\"https://electron.atom.io/docs/api/tray/\" target=\"blank\" rel=\"noopener\">Tray</a> item that helps you add icons and context menus to the system’s notification area.\r\n\r\n```javascript\r\nconst electron = require('electron')\r\nconst { app, Tray, Menu, BrowserWindow } = require('electron')\r\n```\r\n\r\nHere is the list of dependencies :\r\n\r\n<a href=\"https://github.com/mikaelbr/node-notifier\" target=\"blank\" rel=\"noopener\">**node-notifier**</a> : to display system notifications. I first used the HTML5 native Notification API, but it didn't work as our application doesn't run in a window.\r\n\r\n```javascript\r\nnotifier.notify({\r\n  title: 'Startup status changed',\r\n  message: launchOnStartup\r\n    ? 'You will have to launch the application every time you log in'\r\n    : 'Great! Application will launch on system startup',\r\n  icon: path.join(__dirname, 'icons/eye.png'),\r\n  contentImage: '',\r\n  sound: playSound, // true of false\r\n})\r\n```\r\n\r\n<a href=\"https://github.com/Teamwork/node-auto-launch/\" target=\"blank\" rel=\"noopener\">**auto-launch**</a> : to launch application on startup ;)\r\n\r\n```javascript\r\nconst appAutoLauncher = new AutoLaunch({\r\n  name: 'Blinker',\r\n  isHidden: true,\r\n  mac: {\r\n    useLaunchAgent: true,\r\n  },\r\n})\r\n```\r\n\r\n<a href=\"https://github.com/sindresorhus/electron-store\" target=\"blank\" rel=\"noopener\">**electron-store**</a> : to save application specific configuration (like sound, autostart)\r\n\r\n```javascript\r\nconst store = new Store({\r\n  defaults: {\r\n    config: {\r\n      launchOnStartup: true,\r\n      playSound: true,\r\n    },\r\n  },\r\n})\r\nconst config = store.get('config')\r\n```\r\n\r\nI have released the <a href=\"https://github.com/mrkpatchaa/blinker/releases/tag/v01\" target=\"\" rel=\"noopener\">first version</a> for Linux and MacOS. If you are on windows, you can just checkout the code and build for windows.\r\n\r\nFeel free to checkout the code on <a href=\"https://github.com/mrkpatchaa/blinker/\" target=\"blank\" rel=\"noopener\">github</a>, submit pull requests or open issues if something is not working as expected.\r\n\r\nCheers.\r\n","createdAt":"2023-06-15T10:49:04Z","labels":{"nodes":[{"name":"blog:published"}]},"milestone":{"title":"blog"},"slug":"my-first-electron-app-blinker","excerpt":"A week ago, I discovered a very useful website and I thought I should make it an application. The principle is simple ","readTime":"3","tags":"Electron, Application, Javascript, Health","cover":"/assets/blog/blinker.png","content":"<p>A week ago, I discovered a very useful website and I thought I should make it an application.\r\nThis is the website : <a href=\"http://www.blynker.com/\" target=\"blank\" rel=\"noopener\">http://www.blynker.com/</a>.<br/>\r\nThe principle is simple : it reminds you to take your eyes away from your computer every 20 minutes. So here is <strong>Blinker</strong>.</p>\n<p>I do a lot of stuff on my computer and I don't always take a break to rest. We can see it like a <a href=\"https://cirillocompany.de/pages/pomodoro-technique\" target=\"blank\" rel=\"noopener\">pomodoro</a>, but not just when you want to concentrate on something.</p>\n<h3><strong>Planning the application</strong></h3>\n<p><strong>The idea is simple</strong> : Every x (20) minutes you notify the user that he should take a break. 20 seconds later, he can go back to work.</p>\n<p><strong>The technology</strong> : I do a lot of Javascript so I decided to go with a tool that could help me create my <em>native</em> application in Javascript. With no doubt I decided to go with <a href=\"https://electron.atom.io/\" target=\"blank\" rel=\"noopener\">Electron</a>. Many applications, including Slack, Atom, VS Code, are built on top of Electron. And it has the advantage to help you build cross platform applications.</p>\n<h3><strong>Creating the application</strong></h3>\n<p>Electron provides a quick start to help you understand the concept.</p>\n<div class=\"remark-highlight\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token comment\"># Clone the Quick Start repository</span>\n$ <span class=\"token function\">git</span> clone https://github.com/electron/electron-quick-start\n\n<span class=\"token comment\"># Go into the repository</span>\n$ <span class=\"token builtin class-name\">cd</span> electron-quick-start\n\n<span class=\"token comment\"># Install the dependencies and run</span>\n$ <span class=\"token function\">npm</span> <span class=\"token function\">install</span> <span class=\"token operator\">&#x26;&#x26;</span> <span class=\"token function\">npm</span> start\n</code></pre></div>\n<p>Blinker is a \"window less\" application (as it just shows a tray icon) so I deleted the <code>index.html</code> and <code>renderer.js</code> files.</p>\n<p>Electron provides a <a href=\"https://electron.atom.io/docs/api/tray/\" target=\"blank\" rel=\"noopener\">Tray</a> item that helps you add icons and context menus to the system’s notification area.</p>\n<div class=\"remark-highlight\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">const</span> electron <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'electron'</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span> app<span class=\"token punctuation\">,</span> <span class=\"token maybe-class-name\">Tray</span><span class=\"token punctuation\">,</span> <span class=\"token maybe-class-name\">Menu</span><span class=\"token punctuation\">,</span> <span class=\"token maybe-class-name\">BrowserWindow</span> <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'electron'</span><span class=\"token punctuation\">)</span>\n</code></pre></div>\n<p>Here is the list of dependencies :</p>\n<p><a href=\"https://github.com/mikaelbr/node-notifier\" target=\"blank\" rel=\"noopener\"><strong>node-notifier</strong></a> : to display system notifications. I first used the HTML5 native Notification API, but it didn't work as our application doesn't run in a window.</p>\n<div class=\"remark-highlight\"><pre class=\"language-javascript\"><code class=\"language-javascript\">notifier<span class=\"token punctuation\">.</span><span class=\"token method function property-access\">notify</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n  <span class=\"token literal-property property\">title</span><span class=\"token operator\">:</span> <span class=\"token string\">'Startup status changed'</span><span class=\"token punctuation\">,</span>\n  <span class=\"token literal-property property\">message</span><span class=\"token operator\">:</span> launchOnStartup\n    <span class=\"token operator\">?</span> <span class=\"token string\">'You will have to launch the application every time you log in'</span>\n    <span class=\"token operator\">:</span> <span class=\"token string\">'Great! Application will launch on system startup'</span><span class=\"token punctuation\">,</span>\n  <span class=\"token literal-property property\">icon</span><span class=\"token operator\">:</span> path<span class=\"token punctuation\">.</span><span class=\"token method function property-access\">join</span><span class=\"token punctuation\">(</span>__dirname<span class=\"token punctuation\">,</span> <span class=\"token string\">'icons/eye.png'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n  <span class=\"token literal-property property\">contentImage</span><span class=\"token operator\">:</span> <span class=\"token string\">''</span><span class=\"token punctuation\">,</span>\n  <span class=\"token literal-property property\">sound</span><span class=\"token operator\">:</span> playSound<span class=\"token punctuation\">,</span> <span class=\"token comment\">// true of false</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n</code></pre></div>\n<p><a href=\"https://github.com/Teamwork/node-auto-launch/\" target=\"blank\" rel=\"noopener\"><strong>auto-launch</strong></a> : to launch application on startup ;)</p>\n<div class=\"remark-highlight\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">const</span> appAutoLauncher <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">AutoLaunch</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n  <span class=\"token literal-property property\">name</span><span class=\"token operator\">:</span> <span class=\"token string\">'Blinker'</span><span class=\"token punctuation\">,</span>\n  <span class=\"token literal-property property\">isHidden</span><span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\n  <span class=\"token literal-property property\">mac</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token literal-property property\">useLaunchAgent</span><span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n</code></pre></div>\n<p><a href=\"https://github.com/sindresorhus/electron-store\" target=\"blank\" rel=\"noopener\"><strong>electron-store</strong></a> : to save application specific configuration (like sound, autostart)</p>\n<div class=\"remark-highlight\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">const</span> store <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Store</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n  <span class=\"token literal-property property\">defaults</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token literal-property property\">config</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token literal-property property\">launchOnStartup</span><span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\n      <span class=\"token literal-property property\">playSound</span><span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">const</span> config <span class=\"token operator\">=</span> store<span class=\"token punctuation\">.</span><span class=\"token method function property-access\">get</span><span class=\"token punctuation\">(</span><span class=\"token string\">'config'</span><span class=\"token punctuation\">)</span>\n</code></pre></div>\n<p>I have released the <a href=\"https://github.com/mrkpatchaa/blinker/releases/tag/v01\" target=\"\" rel=\"noopener\">first version</a> for Linux and MacOS. If you are on windows, you can just checkout the code and build for windows.</p>\n<p>Feel free to checkout the code on <a href=\"https://github.com/mrkpatchaa/blinker/\" target=\"blank\" rel=\"noopener\">github</a>, submit pull requests or open issues if something is not working as expected.</p>\n<p>Cheers.</p>\n"}},"__N_SSG":true}